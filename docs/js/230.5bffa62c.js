"use strict";(self["webpackChunkphotoslide"]=self["webpackChunkphotoslide"]||[]).push([[230],{409:function(e,l,t){t.d(l,{Z:function(){return c}});var n=t(252),a=t(577);const r=["disabled","title"];function i(e,l,t,i,o,d){return(0,n.wg)(),(0,n.iD)("button",{type:"button",disabled:e.disabled,title:e.title,class:(0,a.C_)(["button-basic",e.color&&`button-basic--color-${e.color}`]),onClick:l[0]||(l[0]=l=>e.$emit("click"))},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],10,r)}var o=(0,n.aZ)({name:"ButtonBasic",props:{type:String,title:String,color:String,disabled:Boolean},emits:{click:null}}),d=t(744);const s=(0,d.Z)(o,[["render",i],["__scopeId","data-v-ba84435a"]]);var c=s},705:function(e,l,t){t.d(l,{Z:function(){return m}});var n=t(252),a=t(577);const r=["name","id","required","value","disabled"],i={key:0,value:"",disabled:!1};function o(e,l,t,o,d,s){const c=(0,n.up)("Icon");return(0,n.wg)(),(0,n.iD)("label",{class:(0,a.C_)(["form","form-select",e.disabled&&"form-select--disabled"])},[(0,n._)("select",{name:e.name,id:e.id,required:e.required,value:e.modelValue,disabled:e.disabled,class:"form-select__body",onChange:l[0]||(l[0]=(...l)=>e.onChange&&e.onChange(...l)),onBlur:l[1]||(l[1]=l=>e.$emit("blur:modelValue",l.target.value))},[e.placeholder?((0,n.wg)(),(0,n.iD)("option",i,(0,a.zw)(e.placeholder),1)):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default",{},void 0,!0)],40,r),(0,n.Wm)(c,{"icon-name":"arrow-down",class:"form-select__icon"})],2)}var d=t(875),s=t(44),c=(0,n.aZ)({name:"FormSelect",components:{Icon:s.Z},props:{name:{type:String,required:!0},id:String,disabled:Boolean,required:Boolean,placeholder:{type:[String,null],default:null},modelType:String,modelValue:[String,Number]},setup(e,l){function t(t){l.emit("update:modelValue",d.Ge(e.modelType,t.target.value))}return{onChange:t}},emits:{"update:modelValue":null,"blur:modelValue":null}}),u=t(744);const p=(0,u.Z)(c,[["render",o],["__scopeId","data-v-6eb56a14"]]);var m=p},909:function(e,l,t){t.d(l,{Z:function(){return p}});var n=t(252),a=t(577);const r=e=>((0,n.dD)("data-v-56586f56"),e=e(),(0,n.Cn)(),e),i=["name","id","required","disabled","checked"],o=r((()=>(0,n._)("i",{class:"form-switch__icon"},null,-1)));function d(e,l,t,r,d,s){return(0,n.wg)(),(0,n.iD)("label",{class:(0,a.C_)(["form","form-switch",e.disabled&&"form-switch--disabled"])},[(0,n._)("input",{type:"checkbox",name:e.name,id:e.id,required:e.required,disabled:e.disabled,checked:e.modelValue,onChange:l[0]||(l[0]=l=>e.$emit("update:modelValue",Boolean(l.target.checked))),class:"form-switch__body"},null,40,i),o],2)}var s=(0,n.aZ)({name:"FormSwitch",props:{name:{type:String,required:!0},id:String,disabled:Boolean,required:Boolean,modelValue:Boolean},emits:{"update:modelValue":null,"blur:modelValue":null}}),c=t(744);const u=(0,c.Z)(s,[["render",d],["__scopeId","data-v-56586f56"]]);var p=u},482:function(e,l,t){t.d(l,{Z:function(){return m}});var n=t(252),a=t(577);const r=["type","name","id","value","placeholder","required","min","max","step","maxlength","rows","size"],i=["type","name","id","value","placeholder","required","min","max","step","maxlength","size"];function o(e,l,t,o,d,s){return"textarea"===e.type?((0,n.wg)(),(0,n.iD)("textarea",{key:0,ref:"root",type:e.type,name:e.name,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,min:e.min,max:e.max,step:e.step,maxlength:e.maxlength,rows:e.rows,size:e.size,class:(0,a.C_)(["form","form-text",e.inline&&"form-text--inline",e.color&&`form-text--color-${e.color}`]),onInput:l[0]||(l[0]=(...l)=>e.onChange&&e.onChange(...l)),onBlur:l[1]||(l[1]=l=>e.$emit("blur:modelValue",l.target.value))},null,42,r)):((0,n.wg)(),(0,n.iD)("input",{key:1,ref:"root",type:e.type,name:e.name,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,min:e.min,max:e.max,step:e.step,maxlength:e.maxlength,size:e.size,class:(0,a.C_)(["form","form-text",e.inline&&"form-text--inline",e.color&&`form-text--color-${e.color}`]),onInput:l[2]||(l[2]=(...l)=>e.onChange&&e.onChange(...l)),onBlur:l[3]||(l[3]=l=>e.$emit("blur:modelValue",l.target.value))},null,42,i))}var d=t(262),s=t(875),c=(0,n.aZ)({name:"FormText",props:{type:{type:String,default:"text"},name:String,id:String,placeholder:String,required:Boolean,min:Number,max:Number,step:Number,maxlength:Number,inline:Boolean,rows:{type:Number,default:3},size:{type:Number,default:10},color:String,modelType:String,modelValue:[String,Number,Boolean,Array]},setup(e,l){const t=(0,d.iH)(0);function n(t){l.emit("update:modelValue",s.Ge(e.modelType,t.target.value))}function a(){t.value&&t.value.focus()}return{root:t,onChange:n,focus:a}},emits:{"update:modelValue":null,"blur:modelValue":null}}),u=t(744);const p=(0,u.Z)(c,[["render",o],["__scopeId","data-v-0f4796d2"]]);var m=p},230:function(e,l,t){t.r(l),t.d(l,{default:function(){return He}});var n=t(252),a=t(577);const r=e=>((0,n.dD)("data-v-72dd7d95"),e=e(),(0,n.Cn)(),e),i=r((()=>(0,n._)("legend",null,"General fields",-1))),o={class:"fields"},d={class:"field-basic"},s={class:"field-title"},c={for:"pref_name"},u={class:"field-description"},p={class:"field-basic__body"},m={class:"field-basic"},f={class:"field-title"},_={for:"pref_description"},b={class:"field-description"},g={class:"field-basic__body"},h=r((()=>(0,n._)("hr",{class:"field-line"},null,-1))),v={class:"field-basic"},w={class:"field-title"},V={for:"pref_language"},C={class:"field-description"},k={class:"field-basic__body"},y={value:"en"},S={value:"ko"},$=r((()=>(0,n._)("hr",{class:"field-line"},null,-1))),x={class:"field-switch"},z={class:"field-switch__body"},U={class:"field-title"},H={for:"pref_hud"},q={class:"field-description"},B={class:"field-switch__input"},Z={class:"field-switch"},W={class:"field-switch__body"},D={class:"field-title"},F={for:"pref_hoverVisibleHud"},I={class:"field-description"},N={class:"field-switch__input"},T={class:"field-basic"},R={class:"field-title"},j={for:"pref_hudContents"},A={class:"field-description"},J={class:"field-basic__body"},E={class:"field-checks"},G=r((()=>(0,n._)("hr",{class:"field-line"},null,-1))),O={class:"field-switch"},P={class:"field-switch__body"},L={class:"field-title"},M={for:"pref_useStorage"},K={class:"field-description"},Q={class:"field-switch__input"},Y={class:"field-basic"},X={class:"field-title"},ee={class:"field-description"},le={class:"field-basic__body"},te={class:"grid import-data"},ne={class:"field-basic"},ae={class:"field-title"},re={class:"field-description"},ie={class:"field-basic__body"};function oe(e,l,t,r,oe,de){const se=(0,n.up)("FormText"),ce=(0,n.up)("FormSelect"),ue=(0,n.up)("FormSwitch"),pe=(0,n.up)("FormCheckbox"),me=(0,n.up)("ButtonBasic");return(0,n.wg)(),(0,n.iD)("fieldset",null,[i,(0,n._)("div",o,[(0,n._)("div",d,[(0,n._)("h3",s,[(0,n._)("label",c,(0,a.zw)(e.$t("preference.general.name.title")),1)]),(0,n._)("p",u,(0,a.zw)(e.$t("preference.general.name.description")),1),(0,n._)("div",p,[(0,n.Wm)(se,{name:"pref_name",id:"pref_name",placeholder:e.$t("base.inputText"),maxlength:30,modelValue:e.state.name,"onUpdate:modelValue":[l[0]||(l[0]=l=>e.state.name=l),e.onSave]},null,8,["placeholder","modelValue","onUpdate:modelValue"])])]),(0,n._)("div",m,[(0,n._)("h3",f,[(0,n._)("label",_,(0,a.zw)(e.$t("preference.general.description.title")),1)]),(0,n._)("p",b,(0,a.zw)(e.$t("preference.general.description.description")),1),(0,n._)("div",g,[(0,n.Wm)(se,{type:"textarea",name:"pref_description",id:"pref_description",placeholder:e.$t("base.inputText"),modelValue:e.state.description,"onUpdate:modelValue":[l[1]||(l[1]=l=>e.state.description=l),e.onSave]},null,8,["placeholder","modelValue","onUpdate:modelValue"])])]),h,(0,n._)("div",v,[(0,n._)("h3",w,[(0,n._)("label",V,(0,a.zw)(e.$t("preference.general.language.title")),1)]),(0,n._)("p",C,(0,a.zw)(e.$t("preference.general.language.description")),1),(0,n._)("div",k,[(0,n.Wm)(ce,{name:"pref_language",id:"pref_language",modelValue:e.state.language,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.state.language=l),e.onSave]},{default:(0,n.w5)((()=>[(0,n._)("option",y,(0,a.zw)(e.$t("preference.general.language.option_en")),1),(0,n._)("option",S,(0,a.zw)(e.$t("preference.general.language.option_ko")),1)])),_:1},8,["modelValue","onUpdate:modelValue"])])]),$,(0,n._)("div",x,[(0,n._)("div",z,[(0,n._)("h3",U,[(0,n._)("label",H,(0,a.zw)(e.$t("preference.general.hud.title")),1)]),(0,n._)("p",q,(0,a.zw)(e.$t("preference.general.hud.description")),1)]),(0,n._)("div",B,[(0,n.Wm)(ue,{name:"pref_hud",id:"pref_hud",modelValue:e.state.hud,"onUpdate:modelValue":[l[3]||(l[3]=l=>e.state.hud=l),e.onSave]},null,8,["modelValue","onUpdate:modelValue"])])]),(0,n._)("div",Z,[(0,n._)("div",W,[(0,n._)("h3",D,[(0,n._)("label",F,(0,a.zw)(e.$t("preference.general.hoverVisibleHud.title")),1)]),(0,n._)("p",I,(0,a.zw)(e.$t("preference.general.hoverVisibleHud.description")),1)]),(0,n._)("div",N,[(0,n.Wm)(ue,{name:"pref_hoverVisibleHud",id:"pref_hoverVisibleHud",modelValue:e.state.hoverVisibleHud,"onUpdate:modelValue":[l[4]||(l[4]=l=>e.state.hoverVisibleHud=l),e.onSave]},null,8,["modelValue","onUpdate:modelValue"])])]),(0,n._)("div",T,[(0,n._)("h3",R,[(0,n._)("label",j,(0,a.zw)(e.$t("preference.general.visibleContents.title")),1)]),(0,n._)("p",A,(0,a.zw)(e.$t("preference.general.visibleContents.description")),1),(0,n._)("div",J,[(0,n._)("ul",E,[(0,n._)("li",null,[(0,n.Wm)(pe,{name:"pref_hudContents",id:"pref_hudContents",label:e.$t("preference.general.visibleContents.item_menu"),modelValue:e.state.visibleHudContents.menu,"onUpdate:modelValue":l[5]||(l[5]=l=>e.onUpdateHudContents("menu",l))},null,8,["label","modelValue"])]),(0,n._)("li",null,[(0,n.Wm)(pe,{name:"pref_hudContents",label:e.$t("preference.general.visibleContents.item_thumbnail"),modelValue:e.state.visibleHudContents.thumbnail,"onUpdate:modelValue":l[6]||(l[6]=l=>e.onUpdateHudContents("thumbnail",l))},null,8,["label","modelValue"])]),(0,n._)("li",null,[(0,n.Wm)(pe,{name:"pref_hudContents",label:e.$t("preference.general.visibleContents.item_caption"),modelValue:e.state.visibleHudContents.caption,"onUpdate:modelValue":l[7]||(l[7]=l=>e.onUpdateHudContents("caption",l))},null,8,["label","modelValue"])]),(0,n._)("li",null,[(0,n.Wm)(pe,{name:"pref_hudContents",label:e.$t("preference.general.visibleContents.item_controller"),modelValue:e.state.visibleHudContents.controller,"onUpdate:modelValue":l[8]||(l[8]=l=>e.onUpdateHudContents("controller",l))},null,8,["label","modelValue"])]),(0,n._)("li",null,[(0,n.Wm)(pe,{name:"pref_hudContents",label:e.$t("preference.general.visibleContents.item_paginate"),modelValue:e.state.visibleHudContents.paginate,"onUpdate:modelValue":l[9]||(l[9]=l=>e.onUpdateHudContents("paginate",l))},null,8,["label","modelValue"])])])])]),G,(0,n._)("div",O,[(0,n._)("div",P,[(0,n._)("h3",L,[(0,n._)("label",M,(0,a.zw)(e.$t("preference.general.browserStorage.title")),1)]),(0,n._)("p",K,(0,a.zw)(e.$t("preference.general.browserStorage.description")),1)]),(0,n._)("div",Q,[(0,n.Wm)(ue,{name:"pref_useStorage",id:"pref_useStorage",modelValue:e.state.useStorage,"onUpdate:modelValue":[l[10]||(l[10]=l=>e.state.useStorage=l),e.onSave]},null,8,["modelValue","onUpdate:modelValue"])])]),(0,n._)("div",Y,[(0,n._)("h3",X,[(0,n._)("label",null,(0,a.zw)(e.$t("preference.general.backup.title")),1)]),(0,n._)("p",ee,(0,a.zw)(e.$t("preference.general.backup.description")),1),(0,n._)("div",le,[(0,n._)("div",te,[(0,n._)("div",null,[(0,n.Wm)(me,{color:"key",onClick:e.onClickBackup},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.$t("base.backup")),1)])),_:1},8,["onClick"])]),(0,n._)("div",null,[(0,n.Wm)(me,{color:"key",onClick:e.onClickRestore},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.$t("base.restore")),1)])),_:1},8,["onClick"])])])])]),(0,n._)("div",ne,[(0,n._)("h3",ae,[(0,n._)("label",null,(0,a.zw)(e.$t("preference.general.reset.title")),1)]),(0,n._)("p",re,(0,a.zw)(e.$t("preference.general.reset.description")),1),(0,n._)("div",ie,[(0,n.Wm)(me,{color:"danger",onClick:e.onClickReset},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.$t("preference.general.reset.label")),1)])),_:1},8,["onClick"])])])])])}var de=t(262),se=t(907),ce=t(150),ue=t(903),pe=t(63),me=t(928),fe=t(482),_e=t(705),be=t(909);const ge={class:"form-checkbox"},he={class:"form-checkbox__body"},ve=["name","id","required","disabled","checked"],we={key:0,class:"form-checkbox__label"};function Ve(e,l,t,r,i,o){const d=(0,n.up)("Icon");return(0,n.wg)(),(0,n.iD)("label",ge,[(0,n._)("span",he,[(0,n._)("input",{type:"checkbox",name:e.name,id:e.id,required:e.required,disabled:e.disabled,checked:e.modelValue,onChange:l[0]||(l[0]=l=>e.$emit("update:modelValue",Boolean(l.target.checked)))},null,40,ve),(0,n._)("i",null,[(0,n.Wm)(d,{"icon-name":"check"})])]),e.label?((0,n.wg)(),(0,n.iD)("em",we,(0,a.zw)(e.label),1)):(0,n.kq)("",!0)])}var Ce=t(44),ke=(0,n.aZ)({name:"FormCheckbox",components:{Icon:Ce.Z},props:{name:{type:String,required:!0},id:String,disabled:Boolean,required:Boolean,label:String,modelValue:Boolean},emits:{"update:modelValue":null,"blur:modelValue":null}}),ye=t(744);const Se=(0,ye.Z)(ke,[["render",Ve],["__scopeId","data-v-8df57106"]]);var $e=Se,xe=t(409),ze=(0,n.aZ)({name:"PreferenceGeneral",components:{FormText:fe.Z,FormSelect:_e.Z,FormSwitch:be.Z,FormCheckbox:$e,ButtonBasic:xe.Z},props:{structure:Object},setup(e,l){const t=(0,se.oR)(),{t:n}=(0,ce.QT)({useScope:"global"});let a=(0,de.qj)({name:e.structure.name,description:e.structure.description,language:e.structure.language,hud:e.structure.hud,hoverVisibleHud:e.structure.hoverVisibleHud,visibleHudContents:ue.Jl(e.structure.visibleHudContents),useStorage:e.structure.useStorage});function r(){const e=ue.Jl(a);l.emit("update",e)}function i(e,l){a.visibleHudContents[e]=l,r()}function o(){if(!confirm(n("preference.general.confirms.backup")))return;let e={preference:ue.Jl(t.state.preference),slides:ue.Jl(t.state.slides)};const l=new Date;let a=`${l.getFullYear()}${me.j(l.getMonth()+1)}${me.j(l.getDate())}`;const r=document.createElement("a");r.setAttribute("href",`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e,null,2))}`),r.setAttribute("download",`slideshow_${a}.json`),r.click()}function d(){return new Promise(((e,l)=>{const a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","application/json"),a.addEventListener("change",(e=>{if(!(e.target.files&&e.target.files.length>0))return void alert(n("preference.general.alerts.noSelectedFile"));const l=e.target.files[0],a=new FileReader;a.onload=async e=>{try{let l=JSON.parse(String(e.target.result));if(!confirm(n("preference.general.confirms.restore")))return;if(!l.preference||!l.slides)throw new Error("no data");t.dispatch("changePreference",l.preference),t.dispatch("changeSlides",l.slides),t.dispatch("changeMode",null),t.dispatch("changeActiveSlide",l.preference.slides.initialNumber),t.commit("updateUseKeyboardEvent",!0),alert(n("preference.general.alerts.completeRestore")),pe.DH.restart()}catch(e){alert(n("preference.general.alerts.failedRestore"))}},a.readAsText(l)}),!1),a.click()}))}function s(){confirm(n("preference.general.confirms.reset"))&&(t.dispatch("reset"),pe.DH.restart())}return{state:a,onSave:r,onUpdateHudContents:i,onClickBackup:o,onClickRestore:d,onClickReset:s}},emits:{update:null}});const Ue=(0,ye.Z)(ze,[["render",oe],["__scopeId","data-v-72dd7d95"]]);var He=Ue},928:function(e,l,t){function n(e){return`0${e}`.slice(-2)}function a(e){let l;try{l=new URL(e)}catch(t){return!1}return"http:"===l.protocol||"https:"===l.protocol}t.d(l,{D:function(){return a},j:function(){return n}})}}]);